# K-Adapter OpenEntity & FIGER 实验结果最终汇总

本文档记录了在 OpenEntity 和 FIGER 数据集上复现 K-Adapter 实验的关键配置、结果和分析。旨在提供一份清晰、完整的实验档案。

---

## 1. 微调（Fine-tuning）实验 (OpenEntity)

### 1.1. 核心结果对比

下表汇总了我们运行的各项**微调**实验的最终测试集 F1 分数，并与作者在论文中报告的数据进行对比。

| 实验配置 | 融合模式 | 学习率 | Test F1 (您的复现) | Test F1 (作者报告) | 差距 / 备注 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **Baseline** | N/A | `2e-5` | **~76.2%** | (未报告) | 全参数微调的基线性能。 |
| **`fac-adapter`** | `add` | `5e-6` | **~76.2%** | ~77.5% | `-1.3%`。与基线持平。 |
| **`lin-adapter`** | `add` | `5e-6` | **~75.6%** | ~76.9% | `-1.3%`。略低于基线。 |
| **`fac+lin` (ADD)** | `add` | `5e-6` | **~75.4%** | ~77.6% (concat) | `-2.2%`。组合性能反而下降。 |
| **`fac+lin` (CONCAT)**| `concat` | `5e-6` | **~75.8%** | ~77.6% | `-1.8%`。仍未超越基线。 |
| **`fac+lin` (CONCAT)**| `concat` | `1e-4` | **~68.8%** | ~77.6% | **-8.8%**。失败的对照组，验证了超参问题。 |

### 1.2. 微调实验结论

1.  **`concat` 优于 `add`**：在同为最优超参数 (`lr=5e-6`) 的情况下，`concat` 融合模式 (75.8%) 的性能优于 `add` 模式 (75.4%)。
2.  **核心发现：组合未能提升性能**：在我们的测试环境中，**任何适配器组合形式的表现都没能超越全参数微调的 Baseline (76.2%)**。这与作者报告中“组合适配器能取得最佳性能”的结论相悖。
3.  **关于复现差距的思考**: 我们的最佳组合结果 (75.8%) 与作者报告的最佳结果 (77.6%) 之间存在约 1.8% 的差距，这可能源于**超参数的高度敏感性**以及**实验环境的差异**。

---

## 2. 零样本（Zero-shot）评估实验

此系列实验旨在测试各模型及适配器在**未经任何微调**的情况下，直接应用于下游任务的“开箱即用”性能。

### 2.1. OpenEntity 数据集

| 零样本评估配置 (OpenEntity) | 融合模式 | Test F1 (Micro) |
| :--- | :--- | :--- |
| **Baseline (仅 RoBERTa-large)** | N/A | **~24.0%** |
| `+ fac-adapter` | `add` | ~15.3% |
| `+ lin-adapter` | `add` | ~14.1% |
| `+ fac+lin` 组合 | `concat` | ~19.4% |
| `+ fac+lin` 组合 | `add` | ~11.7% |

**结论**: 在 OpenEntity 上，`roberta-large` 自身具备一定的零样本能力。但所有预训练适配器都起到了**负面作用**，说明其知识无法直接泛化到此任务，反而构成了干扰。

### 2.2. FIGER 数据集

| 零样本评估配置 (FIGER) | 融合模式 | Test F1 (Micro) |
| :--- | :--- | :--- |
| **Baseline (仅 RoBERTa-large)** | N/A | ~2.5% |
| `+ fac-adapter` | `add` | ~2.7% |
| `+ lin-adapter` | `add` | ~2.6% |
| **`+ fac+lin` 组合** | **`add`** | **~2.8%** |
| `+ fac+lin` 组合 | `concat`| ~2.6% |

**结论**: 在 FIGER 上，所有模型的零样本性能都极低（<3%），几乎等于随机猜测。这可能是因为 FIGER 的标签体系（113类）远比 OpenEntity（9类）复杂。有趣的是，与 OpenEntity 不同，这里的适配器（尤其是组合后）起到了微弱的**正面作用**，但效果基本可以忽略不计。

### 2.3. 零样本实验总览

综合两个任务的结果，我们可以得出最终结论：K-Adapter 中使用的 `fac-adapter` 和 `lin-adapter` **必须经过下游任务的微调才能发挥其价值**。它们的“开箱即用”能力非常有限，甚至可能产生负面影响。
